# 计算机网络分层结构简介

> 为了解决计算机网络复杂的大问题而产生的分层结构（按功能）

## 7层OSI开放系统互连参考模型（法定标准）

**至下而上：**

1. 物理层
2. 数据链路层
3. 网络层
4. 传输层
5. 会话层
6. 表示层
7. 应用层

其中1-3层为通信子网（数据通信），5-7层为资源子网（数据处理）



### 应用层

所有能和用户交互产生网络流量的程序

**典型的应用层服务：**

1. 文件传输（FTP）
2. 电子邮件（SMTP）
3. 万维网（HTTP）
4. ...



### 表示层

用于处理在两个通信系统中交换信息的表示方式(语法和语义)

**功能**

1. 数据格式变换
2. 数据加密解密
3. 数据压缩和恢复

**主要协议**

1. JPEG
2. ASCII



### 会话层

向表示层实体/用户进程提供**建立连接**并在连接上**有序**地**传输**数据

这是会话,也是**建立同步**(SYN)

**功能**

1. 建立,管理,终止会话
2. 使用校验点可使会话在通信失效时从**校验点/同步点**继续恢复通信,实现数据同步

适用于传输大文件

**主要协议**

1. ADSP
2. ASP



### 传输层

负责主机中**两个进程**的通信,即**端到端**的通信

传输单位是报文段或用户数据报

**功能**

1. 可靠传输 , 不可靠传输
2. 差错控制
3. 流量控制
4. 复用分用
   - 复用:多个应用层进程可同时使用下面运输层的服务
   - 分用:运输层把收到的信息分别交付给上面应用层中相应的进程

**主要协议**

1. TCP
2. UDP



### 网络层

主要任务是把**分组**从源端传到目的端,为分组交换网上的不同主机提供通信服务

网络层传输单位是**数据报**

**功能**

1. 路由选择
   - 选择最佳路径
2. 流量控制
3. 差错控制
4. 拥塞控制
   - 若所有结点都来不及接收分组,而要丢弃大量分组的话,网络就处于**拥塞**状态 , 因此要采取一定措施 , 缓解这种拥塞

**主要协议**

1. IP
2. IPX
3. ICMP
4. IGMP
5. ARP
6. RARP
7. OSPF



### 数据链路层

主要任务是把网络层传下来的数据报**组装成帧**

数据链路层/链路层的传输单位是**帧**

**功能**

1. 成帧
   - 定义帧的开始和结束
2. 差错控制
   - 帧错
   - 位错
3. 流量控制
4. 访问(接入)控制
   - 控制对信道的控制

**主要协议**

1. SDLC
2. HDLC
3. PPP
4. STP



### 物理层

主要任务是在**物理媒体**上实现比特流的**透明传输**

物理层传输单位是**比特**

**透明传输**: 指不管所传数据是什么样的比特组合,都应当能够在链路上传送

**功能**

1. 定义接口特性
2. 定义传输模式
   - 单工
   - 半双工
   - 双工
3. 定义传输速率
4. 比特同步
5. 比特编码

**主要协议**

1.  Rj45
2.  802.3



## 4层TCP/IP参考模型（事实标准）

**至下而上：**

1. 网络接口层(对应物理层 + 数据链路层)
2. 网际层(对应网络层)
3. 传输层(对应传输层)
4. 应用层(对应会话层 + 表示层 + 应用层)



### OSI与TCP/IP的相同点

1. 都会进行分层
2. 基于独立的协议栈的概念
3. 可以实现异构网络互联



### OSI与TCP/IP的不同点

1. OSI定义三点主要内容

   - 服务
   - 协议
   - 接口

2. OSI先出现 , 参考模型先于协议发明 , 不偏向特定协议

3. TCP/IP设计之初就考虑到异构网**互联**问题 , 将IP作为重要层次

4. OSI与TCP/IP的通信方式不同

   |  层次  |   OSI参考模型   |   TCP/IP模型    |
   | :----: | :-------------: | :-------------: |
   | 网络层 | 无连接+面向连接 |     无连接      |
   | 传输层 |    面向连接     | 无连接+面向连接 |

   1. **面向连接**分为三个阶段
      1. **建立连接** , 发出一个建立连接的请求
      2. 在连接成功建立之后 , 才能开始**数据传输**
      3. 当数据传输完成 , 必须**释放连接**
   2. **无连接**
      1. **直接**进行**数据传输**







## 5层的体系结构（为了学习方便）

**至下而上：**

1. 物理层
2. 数据链路层
3. 网络层
4. 传输层
5. 应用层



### 应用层

支持各种网络应用

1. FTP
2. SMTP
3. HTTP

###  传输层

进程-进程的数据传输

1. TCP
2. UDP

### 网路层

源主机到目的主机的数据分组路由与转发

1. IP
2. ICMP
3. OSPF
4. ...

### 数据链路层

把网络层传下来的数据报组装成帧

1. Ethernet
2. PPP

### 物理层

比特传输

