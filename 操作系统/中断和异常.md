# 中断和异常

## 中断的概念和作用

1. 当中断发生时，CPU立即进入**核心态**
2. 当中断发生后，当前运行的进程暂停运行，并由操作系统内核对中断进行处理
3. 对于不同的中断信号，会进行不同的处理
4. **中断**可以时CPU从**用户态切换为核心态，使操作系统获得计算机的控制权**
5. 有了中断，才能实现多道程序并发执行。



## 中断的分类



### 内中断（也称为“异常、例外、陷入”）

信号的来源：**CPU内部**

与当前执行的指令**有关**

分类：

1. 自愿中断——指令中断
2. 强迫中断
   1. 硬件故障
   2. 软件中断



### 外中断（狭义上的中断）

信号的来源：**CPU外部**

与当前执行的指令**无关**

分类：

1. 外设请求
2. 人工干预



## 外中断的处理过程

1. 每条指令执行结束后，CPU检查是否有外部中断信号
2. 若有外部中断信号，则需要保护中断进程的CPU环境
3. 根据中断信号类型转入相应的中断处理程序
4. 恢复原程序的CPU环境并退出中断，返回原进程继续往下执行



